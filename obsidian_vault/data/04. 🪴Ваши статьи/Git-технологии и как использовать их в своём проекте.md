---
share: true
date: 
tags:
  - article
  - nsk
project: 
s21-authors:
  - "[[ereva]]"
branch: 
title: Git-технологии и как использовать их в своём проекте – ereva
source: https://held-stingray-d76.notion.site/Git-35b667b7561e4996bf6d459b4422705b
description: Привет! Чтобы ускорить работу с проектом, тебе и твои товарищам по проекту понадобятся навыки владения гит. Гит - это мощный инструмент по контролю версий, который поможет делать проект параллельно и независимо от других участников команды. В обязанности тимлида входит в том числе и правильное построение работы команды в гите. На что нужно обратить внимание.
---

## Git-технологии и как использовать их в своём проекте

Привет! Чтобы ускорить работу с проектом, тебе и твои товарищам по проекту понадобятся навыки владения гит. Гит - это мощный инструмент по контролю версий, который поможет делать проект параллельно и независимо от других участников команды. В обязанности тимлида входит в том числе и правильное построение работы команды в гите. На что нужно обратить внимание.

### 1. Название веток.
В первую очередь НЕ нужно называть ветки по названию их “владельцев”. У ветки нет владельца, это ваш общий гит, это ваш общий проект. Называть следует максимально кратко и точно, описывая происходящее в ветке. Пример: Decomposition. В этой ветке вы делаете декомпозицию. Делает ее один Ereva или нет - неважно. По идее, любой участник команды может внести изменение в “вашу” ветку. Это правильно, так и должно быть, если кто-то считает, что можно сделать что-то лучше. Но это уже уровень опытных людей.

### 2. Комментирование.
Соответственно, чтобы понимать, что вообще происходит, нужно правильно комментировать коммиты. Модель комментирования также определяет тим-лид, могу лишь предложить стандартную: “Название ветки: что сделано”. Коммиты хранятся в отдельной вкладке в гитлабе, и без названия веток в комментариях будет трудно понять, где что произошло.

![](https://held-stingray-d76.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa379829c-7230-4079-82c6-dd019affe91b%2F213d146b-cbac-478b-ada3-ce600445c222%2FScreen_Shot_2022-04-07_at_19.23.03.png?table=block&id=b9a1b2d9-8754-45d5-abf3-3a98e44cc3e6&spaceId=a379829c-7230-4079-82c6-dd019affe91b&width=1890&userId=&cache=v2)

Фото в цвете из моего string.h. Ничего не понятно, но очень интересно. Названия веток очень бы пригодились.

### 3. Структура ветвления
После того, как определились с планом проекта можно создавать ветки. Начинаем, естественно, с ветки develop. От нее создаем ветки согласно вашему плану работы. По мере выполнения проекта, вам придется обязательно мерджить (git merge vetka → мерджит в текущую ветку из vetka). Это неизбежно, бояться этого не нужно. При правильной работе НИЧЕГО не перетрется. Для избежания проблем и существует модульное программирование (надеюсь, вы его освоили и применяете).

Если ваш код разбит на модули, каждый из которых выполняет свою функцию, то при слиянии он просто добавится к уже существующим .c, и, возможно, придется лишь подправить .h. Поэтому вам нужно перед началом работы договориться - что, где будет лежать и на какие модули вы будете разбивать проект. Исходя из этого и делать структуру ветвления.

У вас есть проект string. От ветки develop вы создаете ветку copy\_functions и еще несколько для реализации всех 20 функций. Ereva спокойно работает над copy. В один момент он говорит команде, условно: “мне для s21\_strcpy оч нужен s21\_strcmp”. Ему сливают ветку копирования с веткой сравнения, он пользуется уже сделанной функцией, лежащей в отдельном с-шнике. Когда он будет сливать свою ветку с develop, ничего не произойдет, если в strcmp не было изменений. Если были - то нужно будет решить merge conflict, но там, обычно, все очевидно, что нужно оставить.

Далее мы смерджили все в develop, и от develop создали ветку sprintf. Кто-то пишет парсер, кто-то пишет спецификаторы, кто-то ничего не делает. Но все это нужно структурировать и сливать. Это важно, если вы хотите стать классными программистами.

### 4. Работа с гитом
Конечно, в ходе всех эти ухищрений может случиться проблема. Но, обычно, она легко решается без потерь. Вот, что нужно делать, чтобы избежать их:

1. Не пушится. Вы что-то делали, делали, и кто-то на ветке тоже что-то делал, делал и запушил раньше вас. Вы пишите git add, git commit -m”vse klassno” git push origin vetka. И вылезает ошибка, мол, уже запушено. Вы смотрите на соседа, тот смотрит на вас и сообщает, что запушил изменения 73 минуты назад. Как этого избежать? ОБЯЗАТЕЛЬНО сообщайте в беседу или лично, что вы внесли какое-то изменение в проект, и что нужно запуллить. В любом случае, сейчас вам нужно: git pull, решить все конфликты, заново добавить и закомитить изменения и запушить. В случае спорных моментов обращаться к автору последнего коммита.

2. Накуролесили и не хотите пушить. Бывает, что вы пробовали на ветке что-то свое, а, может, даже случайно добавили на пуш ненужные файлы. git reset - -hard (эти две черточки вместе) восстановит вам локальные файлы согласно последнему коммиту на ветке. Все, что вы делали и зависит от гита, перетрется и станет свежим и чистым.

3. Запушили, но поняли, что раньше работало лучше. В таком случае вам нужно вызвать git log, найти код нужного вам коммита (можно посмотреть это и на гитлабе), git revert “код”. После этого вам обязательно нужно запушить изменение в ветку, тем самым переписав все в ней на состояние файлов выбранного коммита. Также вы можете заглянуть в любой из коммитов `git checkout -b old-state "код"`. А оттуда можно что-то забрать или так же запушить как отдельную ветку.

> [!done] 
> В общем и целом, гит - это несложно. По-маленьку приучайтесь использовать эти технологии, и поймете, насколько удобно и важно структурировать проект. Всегда можно содержать гит в хаосе, на это не нужно усилий, но очень много проблем можно избежать благодаря гитлабу. 

> [!info] 
> ![[ereva_fenix.png|26]] Король-феникс, пророк питона и смотрящий 20-го этажа Ereva

![[ereva_logo.webp]]